{% extends 'layout.njk' %}

{% block content %}
    
    <section class="user-dashboard container form"> {# This section has the "container" to hold the 90% width vh # - Same on header - and class "form"#}
        <form method="POST" action="/users?_method=PUT">
            <div class="header">
                <h3>Detalhes</h3>
            </div>

            <div class="fields">
                {% include "user/fields.njk" %}

                    <input 
                        type="hidden" 
                        name="id" 
                        value={{user.id}}
                    >
            </div>

            <button class="button edit" type="submit">Update</button>       
        </form>   

        <form id="form-delete" method="POST" action="/users?_method=DELETE">
            <button class="button delete" type="submit">Delete</button> {# this is 2 classes  .button.delete#}
             <input 
                        type="hidden" 
                        name="id" 
                        value={{user.id}}
                    >
        </form>  
    </section>

        <script>
               const formDelete = document.querySelector('#form-delete') 
               formDelete.addEventListener("submit", function(event){
                confimrDeletion = confirm("Tem certeza que quer deletar sua conta? Esta ação é irreversível.")
                if(!confimrDeletion) {
                event.preventDefault()
                }
            
            })
        </script>

{% endblock content %}